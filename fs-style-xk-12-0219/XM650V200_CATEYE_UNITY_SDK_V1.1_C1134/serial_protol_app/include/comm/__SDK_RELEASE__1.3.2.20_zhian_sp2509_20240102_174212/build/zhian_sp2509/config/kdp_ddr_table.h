#ifndef __KDP_DDR_TABLE_H__
#define __KDP_DDR_TABLE_H__


#include "board_kl520.h"

#define KDP_DDR_MEM_START                   0x60000000
#define KDP_DDR_MEM_END                     0x63FFFFFF
//////////////////////////
/* ddr - models section */
//////////////////////////
#define KDP_DDR_MODEL_START_ADDR            KDP_DDR_MEM_START
#define KDP_DDR_MODEL_RESERVED_END          0x61DFFFFF //reserved 30 MB for models
#define KDP_DDR_BASE_SYSTEM_RESERVED        0x61E00000 //reserved 191 KB
#define KDP_DDR_MODEL_INFO_TEMP             0x61E2C000 //reserved 16 KB for model info
#define KDP_DDR_MODEL_END_ADDR              0x61E2FFFF
///////////////////////////
/* ddr - drivers section */
///////////////////////////
#define KDP_DDR_DRV_START_ADDR              (KDP_DDR_MODEL_END_ADDR + 1)
///////////////////////////
/* ddr - testing section */
///////////////////////////
#define KDP_DDR_TEST_RGB_IMG_SIZE           0x00075300 // RGB565
#define KDP_DDR_TEST_NIR_IMG_SIZE           0x00075300 // RAW8
#define KDP_DDR_TEST_INF_IMG_SIZE           0x00002000 // img info
#define KDP_DDR_TEST_IMG_NAME_SIZE          0x00001000 // img info
#define KDP_DDR_TEST_START_ADDR             0x61E30000
#define KDP_DDR_TEST_RGB_IMG_ADDR           KDP_DDR_TEST_START_ADDR // 0x61E30000
#define KDP_DDR_TEST_NIR_IMG_ADDR           (KDP_DDR_TEST_RGB_IMG_ADDR + KDP_DDR_TEST_RGB_IMG_SIZE) // 0x61EA5300
#define KDP_DDR_TEST_INF_IMG_ADDR           (KDP_DDR_TEST_NIR_IMG_ADDR + KDP_DDR_TEST_NIR_IMG_SIZE) // 0x61F1A600
#define KDP_DDR_TEST_IMG_NAME_ADDR          (KDP_DDR_TEST_INF_IMG_ADDR + KDP_DDR_TEST_INF_IMG_SIZE) // 0x61F1A600
#define KDP_DDR_TEST_ENDP1_ADDR             (KDP_DDR_TEST_IMG_NAME_ADDR + KDP_DDR_TEST_IMG_NAME_SIZE) // 0x61F1D600
#if CFG_AI_USE_FIXED_IMG == YES
#define KDP_DDR_AI_RGB_SRC_ADDR             KDP_DDR_TEST_RGB_IMG_ADDR // 0x61E30000
#define KDP_DDR_AI_NIR_SRC_ADDR             KDP_DDR_TEST_NIR_IMG_ADDR // 0x61EA5300
#endif


/* @snapshot driver section */
#if CFG_SNAPSHOT_ENABLE == 2
#define KDP_DDR_DRV_SNAPSHOT_RESERVED       0x00026000
#define KDP_DDR_DRV_SNAPSHOT_START_ADDR     0x61F1D600
#define KDP_DDR_DRV_SNAPSHOT_ENDP1_ADDR     (KDP_DDR_DRV_SNAPSHOT_START_ADDR + KDP_DDR_DRV_SNAPSHOT_RESERVED) // 0x61F43600
#endif

/* @Flash controller use : FLASH */
#if CFG_OTA_FLASH_BUF_ENABLE == YES
#define KDP_DDR_OTA_FLASH_BUF_RESERVED      0x00002000
#define KDP_DDR_OTA_FLASH_BUF_START_ADDR    0x61F43600
#define KDP_DDR_OTA_FLASH_BUF_ENDP1_ADDR    (KDP_DDR_OTA_FLASH_BUF_START_ADDR + KDP_DDR_OTA_FLASH_BUF_RESERVED) // 0x61F45600
#endif

/* @IMAGE DDR : FLASH */
#if CFG_OTA_IMAGE_BUF_ENABLE == YES
#define KDP_DDR_OTA_IMAGE_BUF_RESERVED      0x00032000
#define KDP_DDR_OTA_IMAGE_BUF_START_ADDR    0x61F45600
#define KDP_DDR_OTA_IMAGE_BUF_ENDP1_ADDR    (KDP_DDR_OTA_IMAGE_BUF_START_ADDR + KDP_DDR_OTA_IMAGE_BUF_RESERVED) // 0x61F77600
#endif

/* @kdp settings section */
#if CFG_KDP_SETTINGS_ENABLE == YES
#define KDP_DDR_SETTINGS_RESERVED           0x00005000
#define KDP_DDR_SETTINGS_START_ADDR         0x61F77600
#define KDP_DDR_SETTINGS_ENDP1_ADDR         (KDP_DDR_SETTINGS_START_ADDR + KDP_DDR_SETTINGS_RESERVED) // 0x61F7C600
#endif

/* @extraction driver section */
#define KDP_DDR_TEST_RGB_FR_SIZE            0x00000400 // RGB
#define KDP_DDR_TEST_NIR_FR_SIZE            0x00000400 // NIR
#define KDP_DDR_TEST_USER_DB_SIZE           0x00004000 // USER_DB
#define KDP_DDR_TEST_EXTRA_START_ADDR       0x61F7C600
#define KDP_DDR_TEST_EXTRA_RGB_ADDR         KDP_DDR_TEST_EXTRA_START_ADDR // 0x61F7CA00
#define KDP_DDR_TEST_EXTRA_NIR_ADDR         (KDP_DDR_TEST_EXTRA_RGB_ADDR + KDP_DDR_TEST_RGB_FR_SIZE) // 0x61F7CE00
#define KDP_DDR_TEST_EXTRA_DB_ADDR          (KDP_DDR_TEST_EXTRA_NIR_ADDR + KDP_DDR_TEST_NIR_FR_SIZE) // 0x61F80E00


/* @Communication bus buffer : COM_BUS_xx */
#if CFG_COM_BUS_TYPE >= 0
#define KDP_DDR_DRV_COM_BUS_RESERVED        0x00001400
#define KDP_DDR_DRV_COM_BUS_TX_START_ADDR    0x61F80E00
#define KDP_DDR_DRV_COM_BUS_TX_ENDP1_ADDR    (KDP_DDR_DRV_COM_BUS_TX_START_ADDR + KDP_DDR_DRV_COM_BUS_RESERVED) // 0x61F82200
#define KDP_DDR_DRV_COM_BUS_RX0_START_ADDR    0x61F82200
#define KDP_DDR_DRV_COM_BUS_RX0_ENDP1_ADDR    (KDP_DDR_DRV_COM_BUS_RX0_START_ADDR + KDP_DDR_DRV_COM_BUS_RESERVED) // 0x61F83600
#define KDP_DDR_DRV_COM_BUS_RX1_START_ADDR    0x61F83600
#define KDP_DDR_DRV_COM_BUS_RX1_ENDP1_ADDR    (KDP_DDR_DRV_COM_BUS_RX1_START_ADDR + KDP_DDR_DRV_COM_BUS_RESERVED) // 0x61F84A00
#endif

#define KDP_DDR_LAST_ADDR                   0x61F84A00

#endif
